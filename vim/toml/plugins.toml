# NOTE: https://qiita.com/delphinus/items/cd221a450fd23506e81a
## hook の名前         実行されるタイミング                            lazy OFF   lazy ON
## hook_add            プラグインが dein.vim によって追加されたとき    OK         OK
## hook_source         プラグインが読み込まれる直前                    NG         OK
## hook_post_source    プラグインが読み込まれた直後                    NG         OK
## hook_post_update    プラグインが更新された直後                      OK         OK
## hook_done_update    プラグイン全ての更新が終わった直後              OK         OK

[[plugins]]
repo = 'Shougo/dein.vim'

[[plugins]]
repo = 'wsdjeg/dein-ui.vim'

[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
merged = 0
on_event = 'BufRead'
hook_post_update = 'TSUpdate'

[[plugins]]
repo = 'nvim-treesitter/playground'

[[plugins]]
repo = 'neovim/nvim-lspconfig'
hook_add = '''
  lua << EOF
  local lspconfig = require('lspconfig')

  -- LSPサーバーの設定
  -- TypeScript
  lspconfig.ts_ls.setup{}
  -- Vue
  lspconfig.volar.setup{}
  -- HTML
  lspconfig.html.setup{}
  -- CSS
  lspconfig.cssls.setup{}
  -- JSON
  lspconfig.jsonls.setup{}
  -- PHP
  lspconfig.intelephense.setup{}

  -- キーマッピング
  vim.keymap.set('n', 'gd', vim.lsp.buf.definition, {silent = true})
  vim.keymap.set('n', 'gy', vim.lsp.buf.type_definition, {silent = true})
  vim.keymap.set('n', 'gi', vim.lsp.buf.implementation, {silent = true})
  vim.keymap.set('n', 'gr', vim.lsp.buf.references, {silent = true})
  vim.keymap.set('n', '<space>h', vim.lsp.buf.hover, {silent = true})
  vim.keymap.set('n', '<space>rn', vim.lsp.buf.rename, {silent = true})
  vim.keymap.set('n', '<space>a', vim.lsp.buf.code_action, {silent = true})
  vim.keymap.set('n', '<C-j>', vim.diagnostic.goto_next, {silent = true})
  vim.keymap.set('n', '<C-k>', vim.diagnostic.goto_prev, {silent = true})

  -- 診断表示の設定
  vim.diagnostic.config({
    virtual_text = true,
    signs = true,
    underline = true,
    update_in_insert = false,
    severity_sort = true,
  })
EOF
'''

[[plugins]]
repo = 'github/copilot.vim'

[[plugins]]
repo = 'nvim-lua/plenary.nvim'

[[plugins]]
repo = 'nvim-telescope/telescope.nvim'

[[plugins]]
repo = 'CopilotC-Nvim/CopilotChat.nvim'
depends = ['github/copilot.vim', 'nvim-lua/plenary.nvim', 'nvim-telescope/telescope.nvim']
branch = 'main'
hook_add = '''
  nmap ,cc [copilot_chat]
  nnoremap <silent> [copilot_chat]c <Cmd>CopilotChat<CR>
'''


[[plugins]]
repo = 'thinca/vim-quickrun'

[[plugins]]
repo = 'tpope/vim-surround'

[[plugins]]
repo = 'vim-scripts/YankRing.vim'
hook_add = '''
  nmap ,y [yankring]
  nnoremap <silent> [yankring] <Cmd>YRShow<CR>
'''

[[plugins]]
repo = 'vim-scripts/Align'

[[plugins]]
repo = 'Valloric/MatchTagAlways'
on_ft = ['html', 'vue', 'typescript', 'javascript']
hook_add = '''
  "let g:mta_use_matchparen_group = 1

  let g:mta_filetypes = {
      \ 'html' : 1,
      \ 'xhtml' : 1,
      \ 'xml' : 1,
      \ 'javascript' : 1,
      \ 'jsx' : 1,
      \ 'vue' : 1,
      \ 'typescript' : 1,
      \}
'''

[[plugins]]
repo = 'tpope/vim-fugitive'

# # {{{ いまは使ってなさそう
# #[[plugins]]
# #repo = 'othree/yajs.vim'
# #on_ft= ['javascript']
#
# #[[plugins]]
# #repo = 'othree/es.next.syntax.vim'
# #on_ft= ['javascript']
# #
# ##[[plugins]]
# ##repo = 'posva/vim-vue'
# ##on_ft= ['vue']
# ##hook_add = '''
# ##  autocmd FileType vue syntax sync fromstart
# ##'''
# #
# #[[plugins]]
# #repo = 'wuelnerdotexe/vim-astro'
# #
# #[[plugins]]
# #repo = 'leafOfTree/vim-vue-plugin'
# #on_ft= ['vue']
# #hook_add = '''
# #  let g:vim_vue_plugin_load_full_syntax = 1
# #  "let g:vim_vue_plugin_use_pug = 1
# #  let g:vim_vue_plugin_use_sass = 1
# #  let g:vim_vue_plugin_use_typescript = 1
# #'''
# #
# #[[plugins]]
# #repo = 'kevinoid/vim-jsonc'
# #
# #[[plugins]]
# #repo = 'leafgarland/typescript-vim'
# #
# #[[plugins]]
# #repo = 'peitalin/vim-jsx-typescript'
# #
# #[[plugins]]
# #repo = 'ap/vim-css-color'
# #
# #[[plugins]]
# #repo = 'yasuharu519/vim-codic'
# #hook_add = '''
# #  nmap <silent> ,cd :VimCodic<CR>
# #'''
# #
# #[[plugins]]
# #repo = 'editorconfig/editorconfig-vim'
# #
# ## [[plugins]]
# ## repo = 'rizzatti/dash.vim'
# #
# #[[plugins]]
# #repo = 'simeji/winresizer'
# #hook_add = '''
# #  "後で考える
# #  "let g:winresizer_start_key='<C-A>'
# #  "let g:winresizer_gui_start_key='<C-A>'
# #'''
# # }}}
